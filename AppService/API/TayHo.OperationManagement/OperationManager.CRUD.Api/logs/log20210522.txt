2021-05-22 12:08:35.334 +07:00 [INF] Application Starting.
2021-05-22 12:08:38.182 +07:00 [INF] User profile is available. Using 'C:\Users\poka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-05-22 12:08:38.583 +07:00 [INF] Now listening on: http://localhost:54323
2021-05-22 12:08:38.586 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-22 12:08:38.587 +07:00 [INF] Hosting environment: Development
2021-05-22 12:08:38.587 +07:00 [INF] Content root path: F:\TayHo\SystemCore\AppService\API\TayHo.OperationManagement\OperationManager.CRUD.Api
2021-05-22 12:08:39.216 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:54323/swagger  
2021-05-22 12:08:39.420 +07:00 [INF] Request finished in 207.4081ms 301 
2021-05-22 12:08:39.450 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:54323/swagger/index.html  
2021-05-22 12:08:39.487 +07:00 [INF] Request finished in 36.6136ms 200 text/html;charset=utf-8
2021-05-22 12:08:39.516 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:54323/swagger/swagger-ui.css  
2021-05-22 12:08:39.517 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:54323/swagger/swagger-ui-bundle.js  
2021-05-22 12:08:39.519 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:54323/swagger/swagger-ui-standalone-preset.js  
2021-05-22 12:08:39.609 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-05-22 12:08:39.609 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-05-22 12:08:39.609 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-05-22 12:08:39.614 +07:00 [INF] Request finished in 95.6308ms 200 application/javascript
2021-05-22 12:08:39.614 +07:00 [INF] Request finished in 98.5886ms 200 text/css
2021-05-22 12:08:39.615 +07:00 [INF] Request finished in 97.6269ms 200 application/javascript
2021-05-22 12:08:39.802 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:54323/swagger/v1/swagger.json  
2021-05-22 12:08:39.830 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:54323/swagger/favicon-32x32.png  
2021-05-22 12:08:39.832 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-05-22 12:08:39.835 +07:00 [INF] Request finished in 5.0077ms 200 image/png
2021-05-22 12:08:39.994 +07:00 [INF] Request finished in 192.5855ms 200 application/json;charset=utf-8
2021-05-22 12:08:49.085 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:54323/api/v1/ConstructionItems/Get/  
2021-05-22 12:08:49.093 +07:00 [INF] CORS policy execution successful.
2021-05-22 12:08:49.097 +07:00 [INF] Request finished in 12.8128ms 204 
2021-05-22 12:08:49.099 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:54323/api/v1/ConstructionItems/Get/ application/x-www-form-urlencoded; charset=UTF-8 113
2021-05-22 12:08:49.109 +07:00 [INF] CORS policy execution successful.
2021-05-22 12:08:49.314 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-05-22 12:08:49.380 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-05-22 12:08:49.427 +07:00 [INF] Executing endpoint 'OperationManager.CRUD.Api.Controllers.v1.ConstructionItemsController.GetAll (OperationManager.CRUD.Api)'
2021-05-22 12:08:49.473 +07:00 [INF] Route matched with {action = "GetAll", controller = "ConstructionItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Services.Common.DevExpress.DataLoadOptionsHelper) on controller OperationManager.CRUD.Api.Controllers.v1.ConstructionItemsController (OperationManager.CRUD.Api).
2021-05-22 12:08:49.792 +07:00 [INF] Executing action method OperationManager.CRUD.Api.Controllers.v1.ConstructionItemsController.GetAll (OperationManager.CRUD.Api) - Validation state: "Valid"
2021-05-22 12:09:07.928 +07:00 [INF] Executed action OperationManager.CRUD.Api.Controllers.v1.ConstructionItemsController.GetAll (OperationManager.CRUD.Api) in 18446.7344ms
2021-05-22 12:09:07.934 +07:00 [INF] Executed endpoint 'OperationManager.CRUD.Api.Controllers.v1.ConstructionItemsController.GetAll (OperationManager.CRUD.Api)'
2021-05-22 12:09:43.837 +07:00 [INF] Executing endpoint 'OperationManager.CRUD.Api.Controllers.v1.ConstructionItemsController.GetAll (OperationManager.CRUD.Api)'
2021-05-22 12:09:43.845 +07:00 [INF] Route matched with {action = "GetAll", controller = "ConstructionItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Services.Common.DevExpress.DataLoadOptionsHelper) on controller OperationManager.CRUD.Api.Controllers.v1.ConstructionItemsController (OperationManager.CRUD.Api).
2021-05-22 12:09:43.866 +07:00 [INF] Executing action method OperationManager.CRUD.Api.Controllers.v1.ConstructionItemsController.GetAll (OperationManager.CRUD.Api) - Validation state: "Valid"
2021-05-22 12:09:45.144 +07:00 [INF] Executed action OperationManager.CRUD.Api.Controllers.v1.ConstructionItemsController.GetAll (OperationManager.CRUD.Api) in 1295.4104ms
2021-05-22 12:09:45.146 +07:00 [INF] Executed endpoint 'OperationManager.CRUD.Api.Controllers.v1.ConstructionItemsController.GetAll (OperationManager.CRUD.Api)'
2021-05-22 12:09:45.211 +07:00 [ERR] Error converting value "["parentId","=",0]" to type 'System.Collections.IList'. Path 'Filter', line 1, position 259.
Newtonsoft.Json.JsonSerializationException: Error converting value "["parentId","=",0]" to type 'System.Collections.IList'. Path 'Filter', line 1, position 259.
 ---> System.ArgumentException: Could not cast or convert from System.String to System.Collections.IList.
   at Newtonsoft.Json.Utilities.ConvertUtils.EnsureTypeAssignable(Object value, Type initialType, Type targetType)
   at Newtonsoft.Json.Utilities.ConvertUtils.ConvertOrCast(Object initialValue, CultureInfo culture, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Populate(JsonReader reader, Object target)
   at Newtonsoft.Json.JsonSerializer.PopulateInternal(JsonReader reader, Object target)
   at Newtonsoft.Json.JsonConvert.PopulateObject(String value, Object target, JsonSerializerSettings settings)
   at Newtonsoft.Json.JsonConvert.PopulateObject(String value, Object target)
   at Services.Common.DevExpress.DevexpressHelperFunction.ConvertFromDataLoadOptionsHelper(DataLoadOptionsHelper dataLoadOptionsHelper) in F:\TayHo\SystemCore\CoreService\01.Services.Common\Services.Common\DevExpress\DevexpressHelper.cs:line 270
   at OperationManager.CRUD.BLL.Repositories.BaseClasses.QuanLyVanHanhRepository`1.GetAll(Int32 user, String nameEF, DataLoadOptionsHelper dataSourceLoadOptionsBase) in F:\TayHo\SystemCore\AppService\API\TayHo.OperationManagement\OperationManager.CRUD.BLL\Repositories\BaseClasses\QuanLyVanHanhRepository.cs:line 48
   at OperationManager.CRUD.Api.Controllers.v1.ConstructionItemsController.GetAll(DataLoadOptionsHelper loadOptions) in F:\TayHo\SystemCore\AppService\API\TayHo.OperationManagement\OperationManager.CRUD.Api\Controllers\v1\ConstructionItemsController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Services.Common.APIs.Infrastructure.CustomJwtMiddleware.Invoke(HttpContext context) in F:\TayHo\SystemCore\CoreService\01.Services.Common\Services.Common.APIs\Infrastructure\Middlewares\CustomJwtMiddleware.cs:line 27
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Services.Common.APIs.Infrastructure.CustomExceptionHandler.InvokeAsync(HttpContext httpContext) in F:\TayHo\SystemCore\CoreService\01.Services.Common\Services.Common.APIs\Infrastructure\Middlewares\CustomExceptionHandlerMiddleware.cs:line 36
2021-05-22 12:09:45.262 +07:00 [ERR] Error converting value "["parentId","=",0]" to type 'System.Collections.IList'. Path 'Filter', line 1, position 259.
Newtonsoft.Json.JsonSerializationException: Error converting value "["parentId","=",0]" to type 'System.Collections.IList'. Path 'Filter', line 1, position 259.
 ---> System.ArgumentException: Could not cast or convert from System.String to System.Collections.IList.
   at Newtonsoft.Json.Utilities.ConvertUtils.EnsureTypeAssignable(Object value, Type initialType, Type targetType)
   at Newtonsoft.Json.Utilities.ConvertUtils.ConvertOrCast(Object initialValue, CultureInfo culture, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Populate(JsonReader reader, Object target)
   at Newtonsoft.Json.JsonSerializer.PopulateInternal(JsonReader reader, Object target)
   at Newtonsoft.Json.JsonConvert.PopulateObject(String value, Object target, JsonSerializerSettings settings)
   at Newtonsoft.Json.JsonConvert.PopulateObject(String value, Object target)
   at Services.Common.DevExpress.DevexpressHelperFunction.ConvertFromDataLoadOptionsHelper(DataLoadOptionsHelper dataLoadOptionsHelper) in F:\TayHo\SystemCore\CoreService\01.Services.Common\Services.Common\DevExpress\DevexpressHelper.cs:line 270
   at OperationManager.CRUD.BLL.Repositories.BaseClasses.QuanLyVanHanhRepository`1.GetAll(Int32 user, String nameEF, DataLoadOptionsHelper dataSourceLoadOptionsBase) in F:\TayHo\SystemCore\AppService\API\TayHo.OperationManagement\OperationManager.CRUD.BLL\Repositories\BaseClasses\QuanLyVanHanhRepository.cs:line 48
   at OperationManager.CRUD.Api.Controllers.v1.ConstructionItemsController.GetAll(DataLoadOptionsHelper loadOptions) in F:\TayHo\SystemCore\AppService\API\TayHo.OperationManagement\OperationManager.CRUD.Api\Controllers\v1\ConstructionItemsController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Services.Common.APIs.Infrastructure.CustomJwtMiddleware.Invoke(HttpContext context) in F:\TayHo\SystemCore\CoreService\01.Services.Common\Services.Common.APIs\Infrastructure\Middlewares\CustomJwtMiddleware.cs:line 27
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Services.Common.APIs.Infrastructure.CustomExceptionHandler.InvokeAsync(HttpContext httpContext) in F:\TayHo\SystemCore\CoreService\01.Services.Common\Services.Common.APIs\Infrastructure\Middlewares\CustomExceptionHandlerMiddleware.cs:line 36
2021-05-22 12:09:45.302 +07:00 [INF] Request finished in 56203.0586ms 500 application/json
2021-05-22 12:09:49.926 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:54323/api/v1/ConstructionItems/Get/  
2021-05-22 12:09:49.931 +07:00 [INF] CORS policy execution successful.
2021-05-22 12:09:49.932 +07:00 [INF] Request finished in 6.112ms 204 
2021-05-22 12:09:49.934 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:54323/api/v1/ConstructionItems/Get/ application/x-www-form-urlencoded; charset=UTF-8 113
2021-05-22 12:09:49.936 +07:00 [INF] CORS policy execution successful.
2021-05-22 12:09:49.937 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-05-22 12:09:49.942 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-05-22 12:09:49.944 +07:00 [INF] Executing endpoint 'OperationManager.CRUD.Api.Controllers.v1.ConstructionItemsController.GetAll (OperationManager.CRUD.Api)'
2021-05-22 12:09:49.949 +07:00 [INF] Route matched with {action = "GetAll", controller = "ConstructionItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Services.Common.DevExpress.DataLoadOptionsHelper) on controller OperationManager.CRUD.Api.Controllers.v1.ConstructionItemsController (OperationManager.CRUD.Api).
2021-05-22 12:09:49.972 +07:00 [INF] Executing action method OperationManager.CRUD.Api.Controllers.v1.ConstructionItemsController.GetAll (OperationManager.CRUD.Api) - Validation state: "Valid"
